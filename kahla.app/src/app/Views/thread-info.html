<app-header title="Thread Info"></app-header>
@if (thread.value(); as threadVal) {
    <app-thread-basic-info [threadInfo]="threadVal" />

    <div class="menu-button">
        <div class="img">
            <i class="fas fa-share-alt"></i>
        </div>
        <div class="text">Invite</div>
    </div>

    <div class="menu-gap"></div>
    <div class="menu-button" routerLink="/talking/{{ threadVal.id }}">
        <div class="img">
            <i class="fas fa-comments"></i>
        </div>
        <div class="text">Message</div>
    </div>
    <div class="menu-button" routerLink="/file-history/{{ threadVal.id }}">
        <div class="img">
            <i class="fas fa-history"></i>
        </div>
        <div class="text">File History</div>
    </div>
    <app-toggle-menu-item
        [value]="!threadVal.muted"
        (valueChange)="setMute(!$event)"
        title="Notification"
        iconClasses="fas {{ threadVal.muted ? 'fa-bell-slash' : 'fa-bell' }}"
    ></app-toggle-menu-item>
    <div
        class="menu-button"
        *ngIf="threadVal.imAdmin"
        routerLink="/manage-thread/{{ threadVal.id }}"
    >
        <div class="img">
            <i class="fas fa-cogs"></i>
        </div>
        <div class="text">Manage Thread</div>
    </div>
    <div class="menu-gap"></div>
    <div class="menu-button">
        <div class="img">
            <i class="fas fa-users"></i>
        </div>
        <div class="text">members</div>
    </div>
    <app-contact-list [contacts]="topTenRepo()"></app-contact-list>
    <div class="menu-button" routerLink="/thread-members/{{ threadVal.id }}">
        <div class="img">
            <i class="fas fa-ellipsis"></i>
        </div>
        <div class="text">Show All</div>
    </div>
    <div class="menu-gap"></div>
    <div class="menu-button" (click)="leaveThread()">
        <div class="img">
            <i class="fas fa-sign-out-alt warning"></i>
        </div>
        <div class="text text-warning">Leave Thread</div>
    </div>
} @else {
    <div class="menu-hint">Loading...</div>
}
